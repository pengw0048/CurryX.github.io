import caurina.transitions.Tweener;import oxylus.TGallery.Utils;class oxylus.TGallery.Titlebar extends MovieClip {	private var Bground:MovieClip;	private var Mask:MovieClip;	private var Title:TextField;	private var Items:TextField;	private var margin:Number;	private var node:XMLNode;	private var w:Number;	private var h:Number;	public function Titlebar() {		this.init();		this.resize();	}	private function init() {		Bground = eval(this._target+"/a");		Title = eval(this._target+"/b");		Items = eval(this._target+"/c");		Title.autoSize = "left";		Items.autoSize = "left";		Title.gridFitType = "pixel";		Items.gridFitType = "pixel";		Title.text = " ";		Items.text = " ";		Title.condenseWhite = true;		Items.condenseWhite = true;		Mask = this.createEmptyMovieClip("_d_", this.getNextHighestDepth());		Mask.beginFill(0, 0);		Mask.moveTo(0, 0);		Mask.lineTo(1, 0);		Mask.lineTo(1, 1);		Mask.lineTo(0, 1);		Mask.lineTo(0, 0);		Mask.endFill();		this.setMask(Mask);		margin = 20;		w = this._width;		h = this._height;	}	private function resize() {		Bground._width = w;		//Bground._height = h;		Mask._width = w;		Mask._height = h;		Title._x = margin-Utils.TFem(Title);		Title._y = Math.ceil(h/2-Title._height/2);		Items._x = w-margin+Utils.TFem(Items)-Items._width;		Items._y = Math.ceil(h/2-Items._height/2);	}	private function update() {		function func1() {			with (this._parent) {				Title.text = node.attributes.name;				var i:Number = node.childNodes.length;				Items.text = i+" videos";				Items._x = w-margin+Utils.TFem(Items)-Items._width;			}		}		var t:Number = .3;		var ai:String = "easeInQuad";		var ao:String = "easeOutQuad";		var d:Number = 0;		var r:Boolean = true;		/*var t1y:Number = Math.ceil(h/2-Title._height/2);		var t2y:Number = Math.ceil(h/2-Items._height/2);		Tweener.addTween(Bground, {_y:-h, _alpha:20, time:t, transition:ao, onComplete:func1, rounded:r});		Tweener.addTween(Bground, {_y:0, _alpha:100, time:t, delay:t+d, transition:ai, onComplete:func2, rounded:r});		Tweener.addTween(Title, {_y:t1y-h, _alpha:20, time:t, transition:ao, rounded:r});		Tweener.addTween(Title, {_y:t1y, _alpha:100, time:t, delay:t+d, transition:ai, rounded:r});		Tweener.addTween(Items, {_y:t2y-h, _alpha:20, time:t, transition:ao, rounded:r});		Tweener.addTween(Items, {_y:t2y, _alpha:100, time:t, delay:t+d, transition:ai, rounded:r});*/		Tweener.addTween(Title, {_alpha:0, time:t, transition:ao, onComplete:func1, rounded:r});		Tweener.addTween(Title, {_alpha:100, time:t, delay:t+d, transition:ai, rounded:r});		Tweener.addTween(Items, {_alpha:0, time:t, transition:ao, rounded:r});		Tweener.addTween(Items, {_alpha:100, time:t, delay:t+d, transition:ai, rounded:r});	}	public function set width(nw:Number) {		w = nw;		resize();	}	public function get width():Number {		return w;	}	/*public function set height(nh:Number) {	h = nh;	resize();	}*/	public function get height():Number {		return h;	}	public function set data(nd:XMLNode) {		node = nd;		update();	}	public function get data():XMLNode {		return node;	}}